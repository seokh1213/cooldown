import{j as e,r as b,H as xe,z as pe}from"/cooldown/assets/react-vendor-CopeUkDP.js";import{T as he,a as ge,b as X,C as be,I as Y}from"/cooldown/assets/input-Bc_aq5Zj.js";import{u as O,a as ne,g as je,T as ye,S as B,D as le,b as ie,V as oe,c as ce,d as de,e as ve,f as Ne,h as we,i as Se}from"/cooldown/assets/index-BvXiwkUy.js";import{f as Z}from"/cooldown/assets/lucide-icons-O8aoKHte.js";import{V as Te}from"/cooldown/assets/VersionContext-DUZWuV-9.js";function ke({activeTab:t,onTabChange:a,onReset:s}){const{t:u}=O();return e.jsx("div",{className:"flex items-center justify-between gap-2 border-b border-border overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:e.jsx(he,{value:t,onValueChange:i=>a(i),className:"flex-1",children:e.jsx(ge,{className:"inline-flex h-auto items-center justify-start gap-2 bg-transparent p-0 border-0",children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(X,{value:"runes",className:"px-4 py-2 text-sm font-medium transition-colors border-b-2 border-transparent text-muted-foreground hover:text-foreground data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent rounded-none shadow-none",children:u.encyclopedia.tabs.runes}),e.jsx(X,{value:"items",className:"px-4 py-2 text-sm font-medium transition-colors border-b-2 border-transparent text-muted-foreground hover:text-foreground data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent rounded-none shadow-none",children:u.encyclopedia.tabs.items})]})})})})}function Ce({version:t,lang:a}){const{t:s}=O(),[u,i]=b.useState(null),[y,f]=b.useState(!1),v=ne()==="mobile",[p,M]=b.useState(null);if(b.useEffect(()=>{let n=!1;return f(!0),je(t,a).then(h=>{n||i(h)}).finally(()=>{n||f(!1)}),()=>{n=!0}},[t,a]),y&&!u)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:s.championSelector.loading});if(!u||u.length===0)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:s.championSelector.emptyList});const j={Precision:0,Domination:1,Sorcery:2,Resolve:3,Inspiration:4},D=[...u].sort((n,h)=>{const T=j[n.key]??999,P=j[h.key]??999;return T-P}),w=n=>{let h=n.replace(/@\{[^}]+\}@/g,"?");return h=h.replace(/@[^@]+@/g,"?"),h},I=n=>{const h=n.longDesc||n.shortDesc||"",T=w(h);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-8 h-8 rounded-full border border-border/60 bg-transparent"}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-semibold",children:n.name})})]}),e.jsx("div",{className:"text-xs text-muted-foreground leading-relaxed",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:T}})}),e.jsx("div",{className:"text-[10px] text-muted-foreground/80 italic pt-1 border-t border-border/50",children:s.encyclopedia.runes.warning})]})},l=(n,h)=>v?e.jsxs("button",{type:"button",onClick:()=>M(n),className:"flex flex-col items-center gap-1 focus:outline-none min-w-0",style:h,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-10 h-10 rounded-full border border-border/60 bg-transparent flex-shrink-0"}),e.jsx("span",{className:"text-[10px] text-center leading-tight line-clamp-2 w-full",children:n.name})]}):e.jsxs(ve,{children:[e.jsx(Ne,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex flex-col items-center gap-1 focus:outline-none cursor-help min-w-0",style:h,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-10 h-10 rounded-full border border-border/60 bg-transparent flex-shrink-0"}),e.jsx("span",{className:"text-[10px] text-center leading-tight line-clamp-2 w-full",children:n.name})]})}),e.jsx(we,{side:"top",align:"center",sideOffset:8,className:"max-w-xs p-3",children:I(n)})]},n.id);return e.jsx(ye,{delayDuration:200,children:e.jsxs("div",{className:"mt-4",children:[e.jsx(B,{className:"rounded-md border bg-card/40",children:e.jsx("div",{className:"p-4 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:D.map(n=>e.jsxs(be,{className:"p-4 flex flex-col gap-3 bg-background/60 border-border/70",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-8 h-8 rounded-full border border-border/60 bg-transparent"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold",children:n.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:n.key})]})]}),e.jsx("div",{className:"space-y-3",children:n.slots.map((h,T)=>{const P=Math.max(...n.slots.map($=>$.runes.length));return e.jsx("div",{className:"grid gap-y-2 gap-x-2 md:gap-x-4",style:{gridTemplateColumns:`repeat(${P}, minmax(0, 1fr))`},children:h.runes.map(($,k)=>{const R=h.runes.length;let N=String(k+1);return P===4&&R===3&&(k===0?N="1":k===1?N="2 / span 2":k===2&&(N="4")),P===4&&R===2&&(k===0?N="1":k===1&&(N="4")),R===1&&(N="1 / -1"),l($,{gridColumn:N})})},T)})})]},n.id))})}),v&&e.jsx(le,{open:!!p,onOpenChange:n=>!n&&M(null),children:e.jsxs(ie,{className:"w-[calc(100vw-32px)] max-w-lg max-h-[70vh] h-[70vh] p-0 rounded-xl overflow-hidden flex flex-col",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:(p==null?void 0:p.name)??"Rune"}),e.jsx(de,{children:(p==null?void 0:p.name)??"Rune"})]}),e.jsx(B,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"p-4",children:p&&I(p)})})]})})]})})}function Ie(t){var v;const a=t.tags||[],s=t.name||"",u=t.plaintext||"",i=`${s} ${u}`.toLowerCase(),y=s+u,f=new Set(["3340","3363","3364"]);return new Set(["4638","4643"]).has(t.id)?!1:!!(f.has(t.id)||/포션|영약/.test(y)||i.includes("potion")||i.includes("elixir")||a.includes("Consumable")||a.includes("Trinket")||a.includes("Vision")&&f.has(t.id)||/도란/.test(y)||i.includes("doran")||a.includes("Jungle")||i.includes("jungle")||(((v=t.gold)==null?void 0:v.total)??0)===0)}function ee(t){const a=!!t.from&&t.from.length>0,s=!!t.into&&t.into.length>0;return Ie(t)?"starter":a?s?"epic":"legendary":"basic"}function Me(t){var s;return!(!t.maps||!t.maps[11]||!((s=t.tags)==null?void 0:s.includes("Trinket"))&&t.gold&&t.gold.purchasable===!1||t.inStore===!1||t.displayInItemSets===!1||t.cdragon&&(t.cdragon.inStore===!1||t.cdragon.displayInItemSets===!1))}function te(t){const a=t.tags||[],s=t.name.toLowerCase();(t.plaintext||"").toLowerCase();const u=new Set(["3340","3363","3364"]);return new Set(["4638","4643"]).has(t.id)?!1:!!(u.has(t.id)||a.includes("Trinket")||a.includes("Consumable")||s.includes("potion")||s.includes("elixir")||Pe(t))}function Pe(t){const a=t.name,s=t.plaintext||"";return/포션|영약/.test(a+s)}function se(t){const a=t.tags||[],s=t.name.toLowerCase();return a.includes("Boots")||s.includes("boots")}function re(t){const a=t.tags||[],s=t.stats||{},u=Object.keys(s),i=a.includes("AttackDamage")||u.some(v=>v.toLowerCase().includes("attackdamage")),y=a.includes("SpellDamage")||u.some(v=>v.toLowerCase().includes("spelldamage")),f=a.includes("Health")||a.includes("Armor")||a.includes("SpellBlock"),x=a.includes("ManaRegen")||a.includes("HealthRegen")||a.includes("CooldownReduction");return y&&x?"support":f&&(i||y)?"tank":y?"mage":i&&!f?"assassin":i||f?"fighter":"all"}function me(t){return!(!t.gold||t.gold.total<=0||t.gold.purchasable===!1||t.inStore===!1||t.displayInItemSets===!1||t.cdragon&&(t.cdragon.inStore===!1||t.cdragon.displayInItemSets===!1))}function ae(t,a){const s=t.stats||{},u=[],i=(y,f,x=!1)=>{if(!f)return;let v=f;x&&Math.abs(f)<=1&&(v=Math.round(f*100));const p=x?`${v}%`:`${v}`;u.push(`+ ${p} ${y}`)};return typeof s.FlatPhysicalDamageMod=="number"&&i(a.encyclopedia.items.stats.attackDamage,s.FlatPhysicalDamageMod),typeof s.FlatMagicDamageMod=="number"&&i(a.encyclopedia.items.stats.abilityPower,s.FlatMagicDamageMod),typeof s.FlatCritChanceMod=="number"&&i(a.encyclopedia.items.stats.critChance,s.FlatCritChanceMod*100,!0),typeof s.PercentAttackSpeedMod=="number"&&i(a.encyclopedia.items.stats.attackSpeed,s.PercentAttackSpeedMod,!0),typeof s.FlatHPPoolMod=="number"&&i(a.encyclopedia.items.stats.health,s.FlatHPPoolMod),typeof s.FlatMPPoolMod=="number"&&i(a.encyclopedia.items.stats.mana,s.FlatMPPoolMod),typeof s.FlatArmorMod=="number"&&i(a.encyclopedia.items.stats.armor,s.FlatArmorMod),typeof s.FlatSpellBlockMod=="number"&&i(a.encyclopedia.items.stats.magicResist,s.FlatSpellBlockMod),typeof s.PercentLifeStealMod=="number"&&i(a.encyclopedia.items.stats.lifesteal,s.PercentLifeStealMod,!0),typeof s.PercentSpellVampMod=="number"&&i(a.encyclopedia.items.stats.spellVamp,s.PercentSpellVampMod,!0),u}function Le(t){let a=t.description||"";return a=a.replace(/<\/?mainText>/gi,""),a=a.replace(/<stats>[\s\S]*?<\/stats>/gi,""),a=a.replace(/^(?:\s|&nbsp;|<br\s*\/?>)+/gi,""),a}function ue(t,a){var f,x;const s=((f=t.gold)==null?void 0:f.total)??0,u=((x=t.gold)==null?void 0:x.base)??0,i=!!t.from&&t.from.length>0;return u===0&&i?a.encyclopedia.items.price.unavailable:s>0||me(t)?s.toLocaleString():a.encyclopedia.items.price.free}const V=({item:t,version:a,isSelected:s,onSelect:u})=>{const{t:i}=O(),y=ue(t,i),f=y===i.encyclopedia.items.price.unavailable;return e.jsxs("button",{type:"button",onClick:u,className:`flex flex-col items-center gap-0 rounded-sm px-0.5 py-0 text-center transition-colors w-9 md:w-10 ${s?"bg-primary/20 border border-primary/60 shadow-sm":"hover:bg-muted/60 border border-transparent"}`,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/${a}/img/item/${t.id}.png`,alt:t.name,className:"w-7 h-7 md:w-8 md:h-8 aspect-square object-cover rounded-sm border border-border/60 bg-black/40 flex-shrink-0"}),e.jsx("span",{className:`${f?"text-[8px] md:text-[9px]":"text-[9px] md:text-[10px]"} text-amber-600 dark:text-amber-400 font-semibold whitespace-nowrap leading-tight`,children:y}),e.jsx("span",{className:"sr-only absolute",children:t.name})]})};function De({version:t,lang:a}){const{t:s}=O(),i=ne()==="mobile",[y,f]=b.useState(null),[x,v]=b.useState(null),[p,M]=b.useState(!1),[j,D]=b.useState(""),[w,I]=b.useState("all"),[l,n]=b.useState(null),[h,T]=b.useState(!1);b.useEffect(()=>{let r=!1;return M(!0),Se(t,a).then(c=>{if(!r){f(c);const d=c.filter(Me),m=new Set,o=d.filter(g=>m.has(g.name)?!1:(m.add(g.name),!0));v(o),!l&&o.length>0&&n(o[0])}}).finally(()=>{r||M(!1)}),()=>{r=!0}},[t,a]);const P=b.useMemo(()=>y?new Map(y.map(r=>[r.id,r])):new Map,[y]),$=j.trim().toLowerCase(),k=r=>r.toLowerCase().replace(/[^0-9a-z\uac00-\ud7a3ㄱ-ㅎ]/g,""),R=r=>{if(!r)return"";try{return xe.d(r,!0).map(c=>c[0]).join("")}catch{return""}},N=k($),H=$.replace(/\s+/g,""),A=H.length>0&&/^[ㄱ-ㅎ]+$/.test(H)?H:"",{itemsByTier:E,flatFiltered:Oe}=b.useMemo(()=>{const r={itemsByTier:{starter:[],basic:[],epic:[],legendary:[]},flatFiltered:[]};if(!x)return r;const c=o=>{if(!N&&!A)return!0;const g=o.name||"",S=o.plaintext||"",C=o.colloq||"",L=k(g),z=[L,k(S),k(C.replace(/;/g," "))];if(N&&z.some(F=>F.includes(N))||A&&R(g).includes(A))return!0;if(N&&L){const F=R(g);if(F&&(F.charAt(0)+L.slice(1)).includes(N))return!0}return!1},d={starter:[],basic:[],epic:[],legendary:[]},m=[];return x.forEach(o=>{if(!c(o))return;if(w==="trinket"){if(!te(o))return}else if(w==="boots"){if(!se(o))return}else if(w!=="all"){if(te(o)||se(o))return;const S=re(o);if(S!=="all"&&S!==w)return}const g=ee(o);d[g].push(o),m.push(o)}),Object.keys(d).forEach(o=>{d[o].sort((g,S)=>{var C,L;return(((C=g.gold)==null?void 0:C.total)??0)-(((L=S.gold)==null?void 0:L.total)??0)})}),m.sort((o,g)=>{var S,C;return(((S=o.gold)==null?void 0:S.total)??0)-(((C=g.gold)==null?void 0:C.total)??0)}),{itemsByTier:d,flatFiltered:m}},[x,N,A,w]);if(p&&!x)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:s.championSelector.loading});if(!x||x.length===0)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:s.championSelector.emptyList});const K=r=>{if(!r.into||r.into.length===0)return[];const c=[];return r.into.forEach(d=>{const m=P.get(d);m&&m.inStore!==!1&&m.displayInItemSets!==!1&&(m.cdragon&&(m.cdragon.inStore===!1||m.cdragon.displayInItemSets===!1)||c.push(m))}),c.sort((d,m)=>{var o,g;return(((o=d.gold)==null?void 0:o.total)??0)-(((g=m.gold)==null?void 0:g.total)??0)}),c},q=(r,c=0,d=6)=>{if(c>=d)return{item:r,children:[]};const m=[];return r.from&&r.from.length>0&&r.from.forEach(o=>{const g=P.get(o);g&&m.push(q(g,c+1,d))}),{item:r,children:m}},_=r=>s.encyclopedia.items.filters[r],U=r=>s.encyclopedia.items.tiers[r],W=l?Le(l):"",J=W.replace(/<[^>]*>/g,"").replace(/&nbsp;|\u00a0/gi,"").trim().length>0,G=((l==null?void 0:l.plaintext)||"").trim(),fe=!J&&!!G,Q=l&&e.jsxs("div",{className:"flex flex-col gap-2 h-full min-h-0",children:[e.jsxs("div",{className:"space-y-0.5 text-[11px] pb-1 border-b border-border/60 flex-shrink-0",children:[e.jsx("div",{className:"font-semibold",children:s.encyclopedia.items.buildsIntoTitle}),e.jsx("div",{className:"overflow-x-auto pb-0.5",children:e.jsx("div",{className:"flex flex-nowrap gap-1 min-w-max",children:K(l).length>0?K(l).map(r=>e.jsx(V,{item:r,version:t,isSelected:l.id===r.id,onSelect:()=>n(r)},r.id)):e.jsx("span",{className:"text-[10px] text-muted-foreground",children:s.encyclopedia.items.buildsIntoEmpty})})})]}),e.jsxs("div",{className:"space-y-1 text-[11px] py-1 flex-shrink-0",children:[e.jsx("div",{className:"font-semibold",children:s.encyclopedia.items.treeTitle}),(()=>{var d;const r=q(l),c=m=>{const o=m.children.length>0;return e.jsxs("div",{className:"flex flex-col items-center gap-0",children:[e.jsx(V,{item:m.item,version:t,isSelected:l.id===m.item.id,onSelect:()=>n(m.item)}),o&&e.jsxs("div",{className:"mt-0 flex flex-col items-stretch",children:[e.jsx("div",{className:"relative flex justify-center",children:e.jsx("div",{className:"h-1 w-[2px] bg-primary/60"})}),e.jsx("div",{className:"relative flex flex-nowrap items-start justify-center gap-y-0 pt-0",children:m.children.map((g,S)=>{const C=m.children.length,L=S===0,z=S===C-1,F=L?"left-1/2 right-0":z?"left-0 right-1/2":"left-0 right-0";return e.jsxs("div",{className:"relative flex flex-col items-center gap-0 pt-0.5 px-1",children:[C>1&&e.jsx("div",{className:`pointer-events-none absolute top-0 h-[2px] bg-primary/60 ${F}`}),e.jsx("div",{className:"pointer-events-none absolute top-0 left-1/2 -translate-x-1/2 h-2 w-[2px] bg-primary/60"}),c(g)]},`${g.item.id}-${S}`)})})]})]})};return!r.children.length&&!((d=r.item.from)!=null&&d.length)?e.jsx("span",{className:"text-[10px] text-muted-foreground",children:s.encyclopedia.items.treeEmpty}):e.jsx("div",{className:"pt-0",children:e.jsx("div",{className:"w-full rounded-md border border-border/60 bg-muted/40 px-2 py-0.5 overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"min-w-max flex justify-center",children:c(r)})})})})()]}),e.jsx(B,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"pt-2 pr-3",children:e.jsxs("div",{className:"rounded-md border border-border/70 dark:border-neutral-700/80 bg-card text-foreground dark:bg-neutral-950 dark:text-slate-50 shadow-md px-3 py-2 text-[11px] space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/${t}/img/item/${l.id}.png`,alt:l.name,className:"w-9 h-9 rounded-sm border border-border/60 bg-black/40 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xs font-semibold truncate text-foreground dark:text-amber-200",children:l.name}),me(l)&&e.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 font-semibold whitespace-nowrap",children:ue(l,s)})]}),e.jsxs("div",{className:"mt-0.5 flex items-center justify-between text-[10px] text-muted-foreground dark:text-slate-300",children:[e.jsx("span",{children:U(ee(l))}),(()=>{const r=re(l);if(r==="all")return null;const c=_(r);return e.jsx("span",{className:"text-[10px] text-muted-foreground dark:text-slate-400",children:c})})()]})]})]}),e.jsx("div",{className:"h-px bg-neutral-700/80"}),ae(l,s).length>0&&e.jsx("ul",{className:"space-y-0.5 text-[11px] leading-snug",children:ae(l,s).map(r=>e.jsx("li",{className:"text-primary",children:r},r))}),fe&&e.jsx("p",{className:"text-[11px] leading-snug text-foreground dark:text-slate-100",children:G}),J&&e.jsx("div",{className:"text-[11px] leading-snug text-foreground dark:text-slate-100 [&_br]:block [&_li]:ml-4 [&_li]:list-disc [&_li]:text-[11px] [&_li]:leading-snug",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:W}})})]})})})]});return i?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"relative group",children:[e.jsx(Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground pointer-events-none transition-colors group-focus-within:text-primary"}),e.jsx(Y,{value:j,onChange:r=>D(r.target.value),placeholder:s.encyclopedia.items.searchPlaceholder,className:"h-9 pl-7 text-xs border-neutral-400 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-primary"})]}),e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:["all","fighter","mage","assassin","support","tank","trinket","boots"].map(r=>e.jsx("button",{type:"button",onClick:()=>I(r),className:`px-2.5 py-1 rounded-full text-[11px] whitespace-nowrap border ${w===r?"bg-primary text-primary-foreground border-primary":"bg-muted/60 text-muted-foreground border-border/60"}`,children:_(r)},r))})]}),e.jsx("div",{className:"rounded-md border bg-card/40",children:e.jsx("div",{className:"p-1 space-y-1",children:Object.keys(E).map(r=>{const c=E[r];return!c||c.length===0?null:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:U(r)}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>e.jsx(V,{item:d,version:t,isSelected:(l==null?void 0:l.id)===d.id,onSelect:()=>{n(d),T(!0)}},d.id))})]},r)})})}),e.jsx(le,{open:h&&!!l,onOpenChange:r=>{r||T(!1)},children:e.jsxs(ie,{className:"w-[calc(100vw-32px)] max-w-lg max-h-[70vh] h-[70vh] p-0 rounded-xl overflow-hidden flex flex-col",children:[e.jsxs(oe,{children:[e.jsx(ce,{children:(l==null?void 0:l.name)??"Item"}),e.jsx(de,{children:(l==null?void 0:l.name)??"Item"})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:e.jsx("div",{className:"p-4",children:Q})})]})})]}):e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:["all","fighter","mage","assassin","support","tank","trinket","boots"].map(r=>e.jsx("button",{type:"button",onClick:()=>I(r),className:`px-2.5 py-1 rounded-full text-[11px] whitespace-nowrap border ${w===r?"bg-primary text-primary-foreground border-primary":"bg-muted/60 text-muted-foreground border-border/60"}`,children:_(r)},r))}),e.jsxs("div",{className:"relative w-full sm:w-52 md:w-64 group",children:[e.jsx(Z,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground pointer-events-none transition-colors group-focus-within:text-primary"}),e.jsx(Y,{value:j,onChange:r=>D(r.target.value),placeholder:s.encyclopedia.items.searchPlaceholder,className:"h-8 pl-8 text-xs md:text-sm w-full border-neutral-400 focus-visible:ring-0 focus-visible:ring-offset-0 focus-visible:border-primary"})]})]}),e.jsxs("div",{className:"rounded-md border bg-card/40 md:h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:flex-1 md:border-r border-border/60 flex flex-col min-w-0 min-h-0",children:[e.jsx("div",{className:"px-3 py-2 border-b border-border/60 flex items-center justify-between flex-shrink-0",children:e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:s.encyclopedia.items.listTitle})}),e.jsx(B,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"p-1 space-y-1",children:Object.keys(E).map(r=>{const c=E[r];return!c||c.length===0?null:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:U(r)}),e.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(d=>e.jsx(V,{item:d,version:t,isSelected:(l==null?void 0:l.id)===d.id,onSelect:()=>n(d)},d.id))})]},r)})})})]}),e.jsx("div",{className:"md:w-[340px] hidden md:flex flex-col p-3 min-h-0",children:l?Q:e.jsx("div",{className:"text-xs text-muted-foreground h-full flex items-center justify-center text-center px-4",children:s.encyclopedia.items.detailEmpty})})]})]})}function Fe(t){return t==="runes"||t==="items"}function $e({lang:t,championList:a,version:s,cdragonVersion:u,initialSelectedChampions:i,initialTabs:y,initialSelectedTabId:f}){const[x,v]=pe(),p=b.useMemo(()=>{const n=x.get("tab");return Fe(n)?n:null},[x]),M=()=>p||"runes",[j,D]=b.useState(M),w=b.useRef(p),I=b.useRef(M());b.useEffect(()=>{const n=p||"runes",h=w.current||"runes";n!==h&&n!==j&&(D(n),I.current=n),w.current=p},[p,j]),b.useEffect(()=>{const n=p||"runes",h=I.current;if(j!==h&&n!==j){const T=new URLSearchParams(x);j==="runes"?T.delete("tab"):T.set("tab",j),v(T,{replace:!0}),w.current=j==="runes"?null:j}I.current=j},[j,p,x,v]);const{t:l}=O();return b.useCallback(()=>{},[]),e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 md:px-6 lg:px-8 pb-4 md:pb-5",children:[e.jsx("div",{className:"mt-3 md:mt-4",children:e.jsx(ke,{activeTab:j,onTabChange:n=>{D(n)},onReset:()=>{}})}),j==="runes"&&e.jsx(Ce,{version:s,lang:t}),j==="items"&&e.jsx(De,{version:s,lang:t})]})}function ze(t){return e.jsx(Te,{initialDDragonVersion:t.version,initialCDragonVersion:t.cdragonVersion,children:e.jsx($e,{...t})})}export{ze as default};
