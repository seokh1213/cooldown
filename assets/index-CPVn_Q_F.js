import{j as e,r as b,z as ie}from"/cooldown/assets/react-vendor-CopeUkDP.js";import{T as oe,a as ce,b as U,C as de,I as H}from"/cooldown/assets/input-B8A9xUru.js";import{u as A,a as Q,g as ue,T as me,S as I,D as X,b as Y,V as Z,c as ee,d as te,e as xe,f as fe,h as pe,i as he}from"/cooldown/assets/index-rZTB7l-H.js";import{V as ge}from"/cooldown/assets/VersionContext-DUZWuV-9.js";import"./lucide-icons-TsFENe8i.js";function be({activeTab:t,onTabChange:s,onReset:a}){const{t:m}=A();return e.jsx("div",{className:"flex items-center justify-between gap-2 border-b border-border overflow-x-auto -mx-4 md:mx-0 px-4 md:px-0",children:e.jsx(oe,{value:t,onValueChange:i=>s(i),className:"flex-1",children:e.jsx(ce,{className:"inline-flex h-auto items-center justify-start gap-2 bg-transparent p-0 border-0",children:e.jsxs("div",{className:"inline-flex items-center gap-2",children:[e.jsx(U,{value:"runes",className:"px-4 py-2 text-sm font-medium transition-colors border-b-2 border-transparent text-muted-foreground hover:text-foreground data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent rounded-none shadow-none",children:m.encyclopedia.tabs.runes}),e.jsx(U,{value:"items",className:"px-4 py-2 text-sm font-medium transition-colors border-b-2 border-transparent text-muted-foreground hover:text-foreground data-[state=active]:border-primary data-[state=active]:text-primary data-[state=active]:bg-transparent rounded-none shadow-none",children:m.encyclopedia.tabs.items})]})})})})}function je({version:t,lang:s}){const{t:a}=A(),[m,i]=b.useState(null),[c,j]=b.useState(!1),y=Q()==="mobile",[x,k]=b.useState(null);if(b.useEffect(()=>{let n=!1;return j(!0),ue(t,s).then(h=>{n||i(h)}).finally(()=>{n||j(!1)}),()=>{n=!0}},[t,s]),c&&!m)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:a.championSelector.loading});if(!m||m.length===0)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:a.championSelector.emptyList});const d={Precision:0,Domination:1,Sorcery:2,Resolve:3,Inspiration:4},P=[...m].sort((n,h)=>{const w=d[n.key]??999,M=d[h.key]??999;return w-M}),l=n=>{let h=n.replace(/@\{[^}]+\}@/g,"?");return h=h.replace(/@[^@]+@/g,"?"),h},S=n=>{const h=n.longDesc||n.shortDesc||"",w=l(h);return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-8 h-8 rounded-full border border-border/60 bg-transparent"}),e.jsx("div",{className:"flex flex-col",children:e.jsx("span",{className:"text-sm font-semibold",children:n.name})})]}),e.jsx("div",{className:"text-xs text-muted-foreground leading-relaxed",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:w}})}),e.jsx("div",{className:"text-[10px] text-muted-foreground/80 italic pt-1 border-t border-border/50",children:a.encyclopedia.runes.warning})]})},D=(n,h)=>y?e.jsxs("button",{type:"button",onClick:()=>k(n),className:"flex flex-col items-center gap-1 focus:outline-none min-w-0",style:h,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-10 h-10 rounded-full border border-border/60 bg-transparent flex-shrink-0"}),e.jsx("span",{className:"text-[10px] text-center leading-tight line-clamp-2 w-full",children:n.name})]}):e.jsxs(xe,{children:[e.jsx(fe,{asChild:!0,children:e.jsxs("button",{type:"button",className:"flex flex-col items-center gap-1 focus:outline-none cursor-help min-w-0",style:h,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-10 h-10 rounded-full border border-border/60 bg-transparent flex-shrink-0"}),e.jsx("span",{className:"text-[10px] text-center leading-tight line-clamp-2 w-full",children:n.name})]})}),e.jsx(pe,{side:"top",align:"center",sideOffset:8,className:"max-w-xs p-3",children:S(n)})]},n.id);return e.jsx(me,{delayDuration:200,children:e.jsxs("div",{className:"mt-4",children:[e.jsx(I,{className:"rounded-md border bg-card/40",children:e.jsx("div",{className:"p-4 grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:P.map(n=>e.jsxs(de,{className:"p-4 flex flex-col gap-3 bg-background/60 border-border/70",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/img/${n.icon}`,alt:n.name,className:"w-8 h-8 rounded-full border border-border/60 bg-transparent"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-semibold",children:n.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:n.key})]})]}),e.jsx("div",{className:"space-y-3",children:n.slots.map((h,w)=>{const M=Math.max(...n.slots.map(_=>_.runes.length));return e.jsx("div",{className:"grid gap-y-2 gap-x-2 md:gap-x-4",style:{gridTemplateColumns:`repeat(${M}, minmax(0, 1fr))`},children:h.runes.map((_,R)=>{const L=h.runes.length;let T=String(R+1);return M===4&&L===3&&(R===0?T="1":R===1?T="2 / span 2":R===2&&(T="4")),M===4&&L===2&&(R===0?T="1":R===1&&(T="4")),L===1&&(T="1 / -1"),D(_,{gridColumn:T})})},w)})})]},n.id))})}),y&&e.jsx(X,{open:!!x,onOpenChange:n=>!n&&k(null),children:e.jsxs(Y,{className:"w-[calc(100vw-32px)] max-w-lg max-h-[70vh] h-[70vh] p-0 rounded-xl overflow-hidden flex flex-col",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:(x==null?void 0:x.name)??"Rune"}),e.jsx(te,{children:(x==null?void 0:x.name)??"Rune"})]}),e.jsx(I,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"p-4",children:x&&S(x)})})]})})]})})}function ve(t){var y;const s=t.tags||[],a=t.name||"",m=t.plaintext||"",i=`${a} ${m}`.toLowerCase(),c=a+m,j=new Set(["3340","3363","3364"]);return new Set(["4638","4643"]).has(t.id)?!1:!!(j.has(t.id)||/포션|영약/.test(c)||i.includes("potion")||i.includes("elixir")||s.includes("Consumable")||s.includes("Trinket")||s.includes("Vision")&&j.has(t.id)||/도란/.test(c)||i.includes("doran")||s.includes("Jungle")||i.includes("jungle")||(((y=t.gold)==null?void 0:y.total)??0)===0)}function q(t){const s=!!t.from&&t.from.length>0,a=!!t.into&&t.into.length>0;return ve(t)?"starter":s?a?"epic":"legendary":"basic"}function ye(t){var a;return!(!t.maps||!t.maps[11]||!((a=t.tags)==null?void 0:a.includes("Trinket"))&&t.gold&&t.gold.purchasable===!1||t.inStore===!1||t.cdragon&&(t.cdragon.inStore===!1||t.cdragon.displayInItemSets===!1))}function W(t){const s=t.tags||[],a=t.name.toLowerCase();(t.plaintext||"").toLowerCase();const m=new Set(["3340","3363","3364"]);return new Set(["4638","4643"]).has(t.id)?!1:!!(m.has(t.id)||s.includes("Trinket")||s.includes("Consumable")||a.includes("potion")||a.includes("elixir")||Ne(t))}function Ne(t){const s=t.name,a=t.plaintext||"";return/포션|영약/.test(s+a)}function z(t){const s=t.tags||[],a=t.name.toLowerCase();return s.includes("Boots")||a.includes("boots")}function J(t){const s=t.tags||[],a=t.stats||{},m=Object.keys(a),i=s.includes("AttackDamage")||m.some(y=>y.toLowerCase().includes("attackdamage")),c=s.includes("SpellDamage")||m.some(y=>y.toLowerCase().includes("spelldamage")),j=s.includes("Health")||s.includes("Armor")||s.includes("SpellBlock"),v=s.includes("ManaRegen")||s.includes("HealthRegen")||s.includes("CooldownReduction");return c&&v?"support":j&&(i||c)?"tank":c?"mage":i&&!j?"assassin":i||j?"fighter":"all"}function se(t){return!(!t.gold||t.gold.total<=0||t.gold.purchasable===!1||t.inStore===!1)}function G(t,s){const a=t.stats||{},m=[],i=(c,j,v,y=!1)=>{if(!v)return;const x=s==="ko_KR"?c:j;let k=v;y&&Math.abs(v)<=1&&(k=Math.round(v*100));const d=y?`${k}%`:`${k}`;m.push(`+ ${d} ${x}`)};return typeof a.FlatPhysicalDamageMod=="number"&&i("공격력","Attack Damage",a.FlatPhysicalDamageMod),typeof a.FlatMagicDamageMod=="number"&&i("주문력","Ability Power",a.FlatMagicDamageMod),typeof a.FlatCritChanceMod=="number"&&i("치명타 확률","Critical Strike Chance",a.FlatCritChanceMod*100,!0),typeof a.PercentAttackSpeedMod=="number"&&i("공격 속도","Attack Speed",a.PercentAttackSpeedMod,!0),typeof a.FlatHPPoolMod=="number"&&i("체력","Health",a.FlatHPPoolMod),typeof a.FlatMPPoolMod=="number"&&i("마나","Mana",a.FlatMPPoolMod),typeof a.FlatArmorMod=="number"&&i("방어력","Armor",a.FlatArmorMod),typeof a.FlatSpellBlockMod=="number"&&i("마법 저항력","Magic Resist",a.FlatSpellBlockMod),typeof a.PercentLifeStealMod=="number"&&i("생명력 흡수","Life Steal",a.PercentLifeStealMod,!0),typeof a.PercentSpellVampMod=="number"&&i("주문 흡혈","Spell Vamp",a.PercentSpellVampMod,!0),m}function we(t){let s=t.description||"";return s=s.replace(/<\/?mainText>/gi,""),s=s.replace(/<stats>[\s\S]*?<\/stats>/gi,""),s=s.replace(/^(?:\s|&nbsp;|<br\s*\/?>)+/gi,""),s}function re(t,s){var j,v;const a=((j=t.gold)==null?void 0:j.total)??0,m=((v=t.gold)==null?void 0:v.base)??0,i=!!t.from&&t.from.length>0;return m===0&&i?s==="ko_KR"?"구매 불가":"Unavailable":a>0||se(t)?a.toLocaleString():s==="ko_KR"?"무료":"Free"}const F=({item:t,version:s,isSelected:a,onSelect:m,lang:i})=>{const c=re(t,i),j=i==="ko_KR"&&c==="구매 불가"||i!=="ko_KR"&&c==="Unavailable";return e.jsxs("button",{type:"button",onClick:m,className:`flex flex-col items-center gap-0 rounded-sm px-0.5 py-0 text-center transition-colors w-9 md:w-10 ${a?"bg-primary/20 border border-primary/60 shadow-sm":"hover:bg-muted/60 border border-transparent"}`,children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/${s}/img/item/${t.id}.png`,alt:t.name,className:"w-7 h-7 md:w-8 md:h-8 aspect-square object-cover rounded-sm border border-border/60 bg-black/40 flex-shrink-0"}),e.jsx("span",{className:`${j?"text-[8px] md:text-[9px]":"text-[9px] md:text-[10px]"} text-amber-600 dark:text-amber-400 font-semibold whitespace-nowrap`,children:c})]})};function ke({version:t,lang:s}){const{t:a}=A(),i=Q()==="mobile",[c,j]=b.useState(null),[v,y]=b.useState(!1),[x,k]=b.useState(""),[d,P]=b.useState("all"),[l,S]=b.useState(null),[D,n]=b.useState(!1);b.useEffect(()=>{let r=!1;return y(!0),he(t,s).then(f=>{if(!r){const u=f.filter(ye),g=new Set,o=u.filter(p=>g.has(p.name)?!1:(g.add(p.name),!0));j(o),!l&&o.length>0&&S(o[0])}}).finally(()=>{r||y(!1)}),()=>{r=!0}},[t,s]);const h=b.useMemo(()=>c?new Map(c.map(r=>[r.id,r])):new Map,[c]),w=x.trim().toLowerCase(),{itemsByTier:M,flatFiltered:_}=b.useMemo(()=>{const r={itemsByTier:{starter:[],basic:[],epic:[],legendary:[]},flatFiltered:[]};if(!c)return r;const f=o=>w?`${o.name} ${o.plaintext??""}`.toLowerCase().includes(w):!0,u={starter:[],basic:[],epic:[],legendary:[]},g=[];return c.forEach(o=>{if(!f(o))return;if(d==="trinket"){if(!W(o))return}else if(d==="boots"){if(!z(o))return}else if(d!=="all"){if(W(o)||z(o))return;const N=J(o);if(N!=="all"&&N!==d)return}const p=q(o);u[p].push(o),g.push(o)}),Object.keys(u).forEach(o=>{u[o].sort((p,N)=>{var C,$;return(((C=p.gold)==null?void 0:C.total)??0)-((($=N.gold)==null?void 0:$.total)??0)})}),g.sort((o,p)=>{var N,C;return(((N=o.gold)==null?void 0:N.total)??0)-(((C=p.gold)==null?void 0:C.total)??0)}),{itemsByTier:u,flatFiltered:g}},[c,w,d]);if(v&&!c)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:a.championSelector.loading});if(!c||c.length===0)return e.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:a.championSelector.emptyList});const R=r=>{const f=[],u=new Set,g=r.into?[...r.into]:[];for(;g.length>0;){const o=g.shift();if(u.has(o))continue;u.add(o);const p=h.get(o);p&&(f.push(p),p.into&&p.into.length>0&&g.push(...p.into))}return f.sort((o,p)=>{var N,C;return(((N=o.gold)==null?void 0:N.total)??0)-(((C=p.gold)==null?void 0:C.total)??0)}),f},L=(r,f=0,u=6)=>{if(f>=u)return{item:r,children:[]};const g=[];return r.from&&r.from.length>0&&r.from.forEach(o=>{const p=h.get(o);p&&g.push(L(p,f+1,u))}),{item:r,children:g}},T=r=>{if(s==="ko_KR")switch(r){case"all":return"전체";case"fighter":return"전사";case"mage":return"마법사";case"assassin":return"암살자";case"support":return"서포터";case"tank":return"탱커";case"trinket":return"장신구/와드/포션";case"boots":return"신발"}switch(r){case"all":return"All";case"fighter":return"Fighter";case"mage":return"Mage";case"assassin":return"Assassin";case"support":return"Support";case"tank":return"Tank";case"trinket":return"Trinkets";case"boots":return"Boots"}},K=r=>{if(s==="ko_KR")switch(r){case"legendary":return"전설 아이템";case"epic":return"서사급 아이템";case"basic":return"기본 아이템";case"starter":return"시작 아이템"}switch(r){case"legendary":return"Legendary";case"epic":return"Epic";case"basic":return"Basic";case"starter":return"Starter"}},O=l?we(l):"",B=O.replace(/<[^>]*>/g,"").replace(/&nbsp;|\u00a0/gi,"").trim().length>0,V=((l==null?void 0:l.plaintext)||"").trim(),ae=!B&&!!V,E=l&&e.jsxs("div",{className:"flex flex-col gap-2 h-full min-h-0",children:[e.jsxs("div",{className:"space-y-0.5 text-[11px] pb-1 border-b border-border/60 flex-shrink-0",children:[e.jsx("div",{className:"font-semibold",children:s==="ko_KR"?"상위 아이템 (Builds into)":"Builds into"}),e.jsx("div",{className:"overflow-x-auto pb-0.5",children:e.jsx("div",{className:"flex flex-nowrap gap-1 min-w-max",children:R(l).length>0?R(l).map(r=>e.jsx(F,{item:r,version:t,isSelected:l.id===r.id,onSelect:()=>S(r),lang:s},r.id)):e.jsx("span",{className:"text-[10px] text-muted-foreground",children:s==="ko_KR"?"상위 아이템 없음":"No higher items"})})})]}),e.jsxs("div",{className:"space-y-1 text-[11px] py-1 flex-shrink-0",children:[e.jsx("div",{className:"font-semibold",children:s==="ko_KR"?"아이템 트리":"Item Tree"}),(()=>{var u;const r=L(l),f=g=>{const o=g.children.length>0;return e.jsxs("div",{className:"flex flex-col items-center gap-0",children:[e.jsx(F,{item:g.item,version:t,isSelected:l.id===g.item.id,onSelect:()=>S(g.item),lang:s}),o&&e.jsxs("div",{className:"mt-0 flex flex-col items-stretch",children:[e.jsx("div",{className:"relative flex justify-center",children:e.jsx("div",{className:"h-1 w-[2px] bg-primary/60"})}),e.jsx("div",{className:"relative flex flex-nowrap items-start justify-center gap-y-0 pt-0",children:g.children.map((p,N)=>{const C=g.children.length,$=N===0,ne=N===C-1,le=$?"left-1/2 right-0":ne?"left-0 right-1/2":"left-0 right-0";return e.jsxs("div",{className:"relative flex flex-col items-center gap-0 pt-0.5 px-1",children:[C>1&&e.jsx("div",{className:`pointer-events-none absolute top-0 h-[2px] bg-primary/60 ${le}`}),e.jsx("div",{className:"pointer-events-none absolute top-0 left-1/2 -translate-x-1/2 h-2 w-[2px] bg-primary/60"}),f(p)]},`${p.item.id}-${N}`)})})]})]})};return!r.children.length&&!((u=r.item.from)!=null&&u.length)?e.jsx("span",{className:"text-[10px] text-muted-foreground",children:s==="ko_KR"?"구성 아이템 없음":"No components"}):e.jsx("div",{className:"pt-0",children:e.jsx("div",{className:"w-full rounded-md border border-border/60 bg-muted/40 px-2 py-0.5 overflow-x-auto scrollbar-hide",children:e.jsx("div",{className:"min-w-max flex justify-center",children:f(r)})})})})()]}),e.jsx(I,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"pt-2 pr-3",children:e.jsxs("div",{className:"rounded-md border border-border/70 dark:border-neutral-700/80 bg-card text-foreground dark:bg-neutral-950 dark:text-slate-50 shadow-md px-3 py-2 text-[11px] space-y-2",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("img",{src:`https://ddragon.leagueoflegends.com/cdn/${t}/img/item/${l.id}.png`,alt:l.name,className:"w-9 h-9 rounded-sm border border-border/60 bg-black/40 flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"text-xs font-semibold truncate text-foreground dark:text-amber-200",children:l.name}),se(l)&&e.jsx("div",{className:"text-[11px] text-amber-600 dark:text-amber-300 font-semibold whitespace-nowrap",children:re(l,s)})]}),e.jsxs("div",{className:"mt-0.5 flex items-center justify-between text-[10px] text-muted-foreground dark:text-slate-300",children:[e.jsx("span",{children:K(q(l))}),(()=>{const r=J(l);if(r==="all")return null;const f=T(r);return e.jsx("span",{className:"text-[10px] text-muted-foreground dark:text-slate-400",children:f})})()]})]})]}),e.jsx("div",{className:"h-px bg-neutral-700/80"}),G(l,s).length>0&&e.jsx("ul",{className:"space-y-0.5 text-[11px] leading-snug",children:G(l,s).map(r=>e.jsx("li",{className:"text-primary",children:r},r))}),ae&&e.jsx("p",{className:"text-[11px] leading-snug text-foreground dark:text-slate-100",children:V}),B&&e.jsx("div",{className:"text-[11px] leading-snug text-foreground dark:text-slate-100 [&_br]:block [&_li]:ml-4 [&_li]:list-disc [&_li]:text-[11px] [&_li]:leading-snug",children:e.jsx("span",{dangerouslySetInnerHTML:{__html:O}})})]})})})]});return i?e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(H,{value:x,onChange:r=>k(r.target.value),placeholder:s==="ko_KR"?"아이템 이름 검색...":"Search item name...",className:"h-9 text-xs"}),e.jsx("div",{className:"flex gap-1 overflow-x-auto pb-1",children:["all","fighter","mage","assassin","support","tank","trinket","boots"].map(r=>e.jsx("button",{type:"button",onClick:()=>P(r),className:`px-2.5 py-1 rounded-full text-[11px] whitespace-nowrap border ${d===r?"bg-primary text-primary-foreground border-primary":"bg-muted/60 text-muted-foreground border-border/60"}`,children:T(r)},r))})]}),e.jsx("div",{className:"rounded-md border bg-card/40",children:e.jsx("div",{className:"p-1 space-y-1",children:Object.keys(M).map(r=>{const f=M[r];return!f||f.length===0?null:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:K(r)}),e.jsx("div",{className:"flex flex-wrap gap-1",children:f.map(u=>e.jsx(F,{item:u,version:t,isSelected:(l==null?void 0:l.id)===u.id,onSelect:()=>{S(u),n(!0)},lang:s},u.id))})]},r)})})}),e.jsx(X,{open:D&&!!l,onOpenChange:r=>{r||n(!1)},children:e.jsxs(Y,{className:"w-[calc(100vw-32px)] max-w-lg max-h-[70vh] h-[70vh] p-0 rounded-xl overflow-hidden flex flex-col",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:(l==null?void 0:l.name)??"Item"}),e.jsx(te,{children:(l==null?void 0:l.name)??"Item"})]}),e.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto",children:e.jsx("div",{className:"p-4",children:E})})]})})]}):e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[e.jsx("div",{className:"flex flex-wrap gap-1",children:["all","fighter","mage","assassin","support","tank","trinket","boots"].map(r=>e.jsx("button",{type:"button",onClick:()=>P(r),className:`px-2.5 py-1 rounded-full text-[11px] whitespace-nowrap border ${d===r?"bg-primary text-primary-foreground border-primary":"bg-muted/60 text-muted-foreground border-border/60"}`,children:T(r)},r))}),e.jsx(H,{value:x,onChange:r=>k(r.target.value),placeholder:s==="ko_KR"?"아이템 이름 검색...":"Search item name...",className:"h-8 text-xs md:text-sm w-full sm:w-52 md:w-64"})]}),e.jsxs("div",{className:"rounded-md border bg-card/40 md:h-[calc(100vh-12rem)] flex flex-col md:flex-row",children:[e.jsxs("div",{className:"md:flex-1 md:border-r border-border/60 flex flex-col min-w-0 min-h-0",children:[e.jsx("div",{className:"px-3 py-2 border-b border-border/60 flex items-center justify-between flex-shrink-0",children:e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:s==="ko_KR"?"아이템":"Items"})}),e.jsx(I,{className:"flex-1 min-h-0",children:e.jsx("div",{className:"p-1 space-y-1",children:Object.keys(M).map(r=>{const f=M[r];return!f||f.length===0?null:e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-[11px] font-semibold text-muted-foreground",children:K(r)}),e.jsx("div",{className:"flex flex-wrap gap-1",children:f.map(u=>e.jsx(F,{item:u,version:t,isSelected:(l==null?void 0:l.id)===u.id,onSelect:()=>S(u),lang:s},u.id))})]},r)})})})]}),e.jsx("div",{className:"md:w-[340px] hidden md:flex flex-col p-3 min-h-0",children:l?E:e.jsx("div",{className:"text-xs text-muted-foreground h-full flex items-center justify-center text-center px-4",children:s==="ko_KR"?"왼쪽에서 아이템을 선택하면 여기에서 아이템 트리와 설명을 볼 수 있어요.":"Select an item on the left to see its tree and description here."})})]})]})}function Se(t){return t==="runes"||t==="items"}function Te({lang:t,championList:s,version:a,cdragonVersion:m,initialSelectedChampions:i,initialTabs:c,initialSelectedTabId:j}){const[v,y]=ie(),x=b.useMemo(()=>{const n=v.get("tab");return Se(n)?n:null},[v]),k=()=>x||"runes",[d,P]=b.useState(k),l=b.useRef(x),S=b.useRef(k());b.useEffect(()=>{const n=x||"runes",h=l.current||"runes";n!==h&&n!==d&&(P(n),S.current=n),l.current=x},[x,d]),b.useEffect(()=>{const n=x||"runes",h=S.current;if(d!==h&&n!==d){const w=new URLSearchParams(v);d==="runes"?w.delete("tab"):w.set("tab",d),y(w,{replace:!0}),l.current=d==="runes"?null:d}S.current=d},[d,x,v,y]);const{t:D}=A();return b.useCallback(()=>{},[]),e.jsxs("div",{className:"w-full max-w-7xl mx-auto px-4 md:px-6 lg:px-8 pb-4 md:pb-5",children:[e.jsx("div",{className:"mt-3 md:mt-4",children:e.jsx(be,{activeTab:d,onTabChange:n=>{P(n)},onReset:()=>{}})}),d==="runes"&&e.jsx(je,{version:a,lang:t}),d==="items"&&e.jsx(ke,{version:a,lang:t})]})}function _e(t){return e.jsx(ge,{initialDDragonVersion:t.version,initialCDragonVersion:t.cdragonVersion,children:e.jsx(Te,{...t})})}export{_e as default};
